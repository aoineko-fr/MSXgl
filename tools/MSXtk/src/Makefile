CXX = g++
CXXFLAGS = -std=c++17 -Wall 

ALL_TARGETS = MSXbin MSXzip MSXmath MSXhex MSXimg
.PHONY: all 
all: $(ALL_TARGETS)

.PHONY: install
install: all
	cp -f $(ALL_TARGETS) ../bin/

.PHONY: clean
clean:
	rm -f *.o $(ALL_TARGETS)

MSXBIN_OBJS = MSXbin.o
MSXbin: $(MSXBIN_OBJS)
	$(CXX) -o MSXbin $(MSXBIN_OBJS)

MSXZIP_OBJS = MSXzip.o lVGM.o RLEp.o
MSXzip: $(MSXZIP_OBJS)
	$(CXX) -o MSXzip $(MSXZIP_OBJS)

MSXMATH_OBJS = MSXmath.o
MSXmath: $(MSXMATH_OBJS)
	$(CXX) -o MSXmath $(MSXMATH_OBJS)

MSXHEX_OBJS = MSXhex.o
MSXhex: $(MSXHEX_OBJS)
	$(CXX) -o MSXhex $(MSXHEX_OBJS)

MSXIMG_OBJS = MSXimg.o color.o exporter.o image.o parser.o Pletter.o
MSXimg: $(MSXIMG_OBJS)
	$(CXX) $(MSXIMG_OBJS) -lfreeimage -o MSXimg 

# dependencies
# autogenerated with "g++ -MM -I../Freeimage *.cpp
color.o: color.cpp color.h ../Freeimage/FreeImage.h MSXtk.h MSXtk_types.h \
 MSXtk_string.h MSXtk_data.h MSXtk_export.h MSXtk_file.h MSXtk_helper.h
exporter.o: exporter.cpp exporter.h MSXimg.h color.h \
 ../Freeimage/FreeImage.h MSXtk.h MSXtk_types.h MSXtk_string.h \
 MSXtk_data.h MSXtk_export.h MSXtk_file.h MSXtk_helper.h MGLV.h
image.o: image.cpp ../Freeimage/FreeImage.h image.h
lVGM.o: lVGM.cpp MSXtk.h MSXtk_types.h MSXtk_string.h MSXtk_data.h \
 MSXtk_export.h MSXtk_file.h MSXtk_helper.h VGM.h lVGM.h
MSXbin.o: MSXbin.cpp MSXtk.h MSXtk_types.h MSXtk_string.h MSXtk_data.h \
 MSXtk_export.h MSXtk_file.h MSXtk_helper.h
MSXcrypt.o: MSXcrypt.cpp MSXtk.h MSXtk_types.h MSXtk_string.h \
 MSXtk_data.h MSXtk_export.h MSXtk_file.h MSXtk_helper.h
MSXhex.o: MSXhex.cpp MSXtk.h MSXtk_types.h MSXtk_string.h MSXtk_data.h \
 MSXtk_export.h MSXtk_file.h MSXtk_helper.h
MSXimg.o: MSXimg.cpp ../Freeimage/FreeImage.h MSXtk.h MSXtk_types.h \
 MSXtk_string.h MSXtk_data.h MSXtk_export.h MSXtk_file.h MSXtk_helper.h \
 MSXimg.h color.h exporter.h MGLV.h image.h parser.h
MSXmath.o: MSXmath.cpp MSXtk.h MSXtk_types.h MSXtk_string.h MSXtk_data.h \
 MSXtk_export.h MSXtk_file.h MSXtk_helper.h
MSXzip.o: MSXzip.cpp MSXtk.h MSXtk_types.h MSXtk_string.h MSXtk_data.h \
 MSXtk_export.h MSXtk_file.h MSXtk_helper.h RLEp.h lVGM.h
parser.o: parser.cpp ../Freeimage/FreeImage.h color.h MSXtk.h \
 MSXtk_types.h MSXtk_string.h MSXtk_data.h MSXtk_export.h MSXtk_file.h \
 MSXtk_helper.h exporter.h MSXimg.h MGLV.h image.h parser.h
Pletter.o: Pletter.cpp
RLEp.o: RLEp.cpp MSXtk.h MSXtk_types.h MSXtk_string.h MSXtk_data.h \
 MSXtk_export.h MSXtk_file.h MSXtk_helper.h
