<!DOCTYPE html>

<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta http-equiv="X-UA-Compatible" content="IE=edge"><title>ndp_player.h</title><link rel="stylesheet" type="text/css" href="../../styles/main.css" /><script type="text/javascript" src="../../styles/main.js"></script><script type="text/javascript">NDLoader.LoadJS("Content", "../../styles/");</script></head>

<!-- Generated by Natural Docs, version 2.2 -->

<!-- saved from url=(0016)http://localhost -->

<body onload="NDLoader.OnLoad('Content');" class="NDPage NDContentPage">

<a name="Functions"></a><a name="Topic1369"></a><div class="CTopic TGroup LC first">
 <div class="CTitle">Functions</div>
</div>

<a name="NDP_Initialize"></a><a name="Topic1450"></a><div class="CTopic TFunction LC">
 <div class="CTitle">NDP_Initialize</div>
 <div id="NDPrototype1450" class="NDPrototype"><div class="PSection PPlainSection"><span class="SHKeyword">void</span> NDP_Initialize()</div></div>
 <div class="CBody"><p>Driver initialization (connects the driver to the timer interrupt hook)</p></div>
</div>

<a name="NDP_Play"></a><a name="Topic1451"></a><div class="CTopic TFunction LC">
 <div class="CTitle">NDP_Play</div>
 <div id="NDPrototype1451" class="NDPrototype"><div class="PSection PPlainSection"><span class="SHKeyword">void</span> NDP_Play()</div></div>
 <div class="CBody"><p>Start playing (clears the work area to zero and starts playing. Do not operate the hook)</p></div>
</div>

<a name="NDP_Stop"></a><a name="Topic1452"></a><div class="CTopic TFunction LC">
 <div class="CTitle">NDP_Stop</div>
 <div id="NDPrototype1452" class="NDPrototype"><div class="PSection PPlainSection"><span class="SHKeyword">void</span> NDP_Stop()</div></div>
 <div class="CBody"><p>Stops playback (Stops playback and initializes PSG registers. Does not operate hooks.)</p></div>
</div>

<a name="NDP_SetMusicAddress"></a><a name="Topic1453"></a><div class="CTopic TFunction LC">
 <div class="CTitle">NDP_SetMusicAddress</div>
 <div id="NDPrototype1453" class="NDPrototype WideForm"><div class="PSection PParameterSection CStyle"><table><tr><td class="PBeforeParameters"><span class="SHKeyword">void</span> NDP_SetMusicAddress(</td><td class="PParametersParentCell"><table class="PParameters"><tr><td class="PModifierQualifier first"><span class="SHKeyword">const</span>&nbsp;</td><td class="PType"><span class="SHKeyword">void</span>*&nbsp;</td><td class="PName last">addr</td></tr></table></td><td class="PAfterParameters">)</td></tr></table></div></div>
 <div class="CBody"><p>Song data start address setting</p><div class="CHeading">Parameters</div><table class="CDefinitionList"><tr><td class="CDLEntry">addr<div class="CDLParameterType"><span class="SHKeyword">const</span> <span class="SHKeyword">void</span>*</div></td><td class="CDLDefinition"><p>Address of the song data. No setting required if default is 04000H)</p></td></tr></table></div>
</div>

<a name="NDP_MuteChannel1"></a><a name="Topic1454"></a><div class="CTopic TFunction LC">
 <div class="CTitle">NDP_MuteChannel1</div>
 <div id="NDPrototype1454" class="NDPrototype WideForm"><div class="PSection PParameterSection CStyle"><table><tr><td class="PBeforeParameters"><span class="SHKeyword">void</span> NDP_MuteChannel1(</td><td class="PParametersParentCell"><table class="PParameters"><tr><td class="PType first">u8&nbsp;</td><td class="PName last">frames</td></tr></table></td><td class="PAfterParameters">)</td></tr></table></div></div>
 <div class="CBody"><p>Channel A Temporary Mute</p><div class="CHeading">Parameters</div><table class="CDefinitionList"><tr><td class="CDLEntry">frames<div class="CDLParameterType">u8</div></td><td class="CDLDefinition"><p>Number of frames to mute [2 to 254 / 1 = Cancel / 255 = Permanent Mute]</p></td></tr></table></div>
</div>

<a name="NDP_MuteChannel2"></a><a name="Topic1455"></a><div class="CTopic TFunction LC">
 <div class="CTitle">NDP_MuteChannel2</div>
 <div id="NDPrototype1455" class="NDPrototype WideForm"><div class="PSection PParameterSection CStyle"><table><tr><td class="PBeforeParameters"><span class="SHKeyword">void</span> NDP_MuteChannel2(</td><td class="PParametersParentCell"><table class="PParameters"><tr><td class="PType first">u8&nbsp;</td><td class="PName last">frames</td></tr></table></td><td class="PAfterParameters">)</td></tr></table></div></div>
 <div class="CBody"><p>Channel B Temporary Mute</p><div class="CHeading">Parameters</div><table class="CDefinitionList"><tr><td class="CDLEntry">frames<div class="CDLParameterType">u8</div></td><td class="CDLDefinition"><p>Number of frames to mute [2 to 254 / 1 = Cancel / 255 = Permanent Mute]</p></td></tr></table></div>
</div>

<a name="NDP_MuteChannel3"></a><a name="Topic1456"></a><div class="CTopic TFunction LC">
 <div class="CTitle">NDP_MuteChannel3</div>
 <div id="NDPrototype1456" class="NDPrototype WideForm"><div class="PSection PParameterSection CStyle"><table><tr><td class="PBeforeParameters"><span class="SHKeyword">void</span> NDP_MuteChannel3(</td><td class="PParametersParentCell"><table class="PParameters"><tr><td class="PType first">u8&nbsp;</td><td class="PName last">frames</td></tr></table></td><td class="PAfterParameters">)</td></tr></table></div></div>
 <div class="CBody"><p>Channel C Temporary Mute</p><div class="CHeading">Parameters</div><table class="CDefinitionList"><tr><td class="CDLEntry">frames<div class="CDLParameterType">u8</div></td><td class="CDLDefinition"><p>Number of frames to mute [2 to 254 / 1 = Cancel / 255 = Permanent Mute]</p></td></tr></table></div>
</div>

<a name="NDP_MuteChannel"></a><a name="Topic1457"></a><div class="CTopic TFunction LC">
 <div class="CTitle">NDP_MuteChannel</div>
 <div id="NDPrototype1457" class="NDPrototype WideForm"><div class="PSection PParameterSection CStyle"><table><tr><td class="PBeforeParameters"><span class="SHKeyword">inline</span> <span class="SHKeyword">void</span> NDP_MuteChannel(</td><td class="PParametersParentCell"><table class="PParameters"><tr><td class="PType first">u8&nbsp;</td><td class="PName last">channel,</td></tr><tr><td class="PType first">u8&nbsp;</td><td class="PName last">frames</td></tr></table></td><td class="PAfterParameters">)</td></tr></table></div></div>
 <div class="CBody"><p>Channel Temporary Mute</p><div class="CHeading">Parameters</div><table class="CDefinitionList"><tr><td class="CDLEntry">channel<div class="CDLParameterType">u8</div></td><td class="CDLDefinition"><p>Channel number (1 to 3)</p></td></tr><tr><td class="CDLEntry">frames<div class="CDLParameterType">u8</div></td><td class="CDLDefinition"><p>Number of frames to mute [2 to 254 / 1 = Cancel / 255 = Permanent Mute]</p></td></tr></table></div>
</div>

<a name="NDP_SetVolume"></a><a name="Topic1458"></a><div class="CTopic TFunction LC">
 <div class="CTitle">NDP_SetVolume</div>
 <div id="NDPrototype1458" class="NDPrototype WideForm"><div class="PSection PParameterSection CStyle"><table><tr><td class="PBeforeParameters"><span class="SHKeyword">void</span> NDP_SetVolume(</td><td class="PParametersParentCell"><table class="PParameters"><tr><td class="PType first">u8&nbsp;</td><td class="PName last">vol</td></tr></table></td><td class="PAfterParameters">)</td></tr></table></div></div>
 <div class="CBody"><p>Master volume offset</p><div class="CHeading">Parameters</div><table class="CDefinitionList"><tr><td class="CDLEntry">vol<div class="CDLParameterType">u8</div></td><td class="CDLDefinition"><p>Master volume (value to subtract from volume value)</p></td></tr></table></div>
</div>

<a name="NDP_FadeOut"></a><a name="Topic1459"></a><div class="CTopic TFunction LC">
 <div class="CTitle">NDP_FadeOut</div>
 <div id="NDPrototype1459" class="NDPrototype WideForm"><div class="PSection PParameterSection CStyle"><table><tr><td class="PBeforeParameters"><span class="SHKeyword">void</span> NDP_FadeOut(</td><td class="PParametersParentCell"><table class="PParameters"><tr><td class="PType first">u8&nbsp;</td><td class="PName last">speed</td></tr></table></td><td class="PAfterParameters">)</td></tr></table></div></div>
 <div class="CBody"><p>Fade-out</p><div class="CHeading">Parameters</div><table class="CDefinitionList"><tr><td class="CDLEntry">speed<div class="CDLParameterType">u8</div></td><td class="CDLDefinition"><p>Number of frames for each stage</p></td></tr></table></div>
</div>

<a name="NDP_PlayFadeIn"></a><a name="Topic1460"></a><div class="CTopic TFunction LC">
 <div class="CTitle">NDP_PlayFadeIn</div>
 <div id="NDPrototype1460" class="NDPrototype WideForm"><div class="PSection PParameterSection CStyle"><table><tr><td class="PBeforeParameters"><span class="SHKeyword">void</span> NDP_PlayFadeIn(</td><td class="PParametersParentCell"><table class="PParameters"><tr><td class="PType first">u8&nbsp;</td><td class="PName last">speed</td></tr></table></td><td class="PAfterParameters">)</td></tr></table></div></div>
 <div class="CBody"><p>Starts playing while fading in</p><div class="CHeading">Parameters</div><table class="CDefinitionList"><tr><td class="CDLEntry">speed<div class="CDLParameterType">u8</div></td><td class="CDLDefinition"><p>Number of frames for each stage</p></td></tr></table></div>
</div>

<a name="NDP_PlaySoundEffect"></a><a name="Topic1461"></a><div class="CTopic TFunction LC">
 <div class="CTitle">NDP_PlaySoundEffect</div>
 <div id="NDPrototype1461" class="NDPrototype WideForm"><div class="PSection PParameterSection CStyle"><table><tr><td class="PBeforeParameters"><span class="SHKeyword">void</span> NDP_PlaySoundEffect(</td><td class="PParametersParentCell"><table class="PParameters"><tr><td class="PModifierQualifier first"><span class="SHKeyword">const</span>&nbsp;</td><td class="PType"><span class="SHKeyword">void</span>*&nbsp;</td><td class="PName last">addr</td></tr></table></td><td class="PAfterParameters">)</td></tr></table></div></div>
 <div class="CBody"><p>Sound effect</p><div class="CHeading">Parameters</div><table class="CDefinitionList"><tr><td class="CDLEntry">addr<div class="CDLParameterType"><span class="SHKeyword">const</span> <span class="SHKeyword">void</span>*</div></td><td class="CDLDefinition"><p>Address of the sound effect data</p></td></tr></table></div>
</div>

<a name="NDP_GetStatus"></a><a name="Topic1462"></a><div class="CTopic TFunction LC">
 <div class="CTitle">NDP_GetStatus</div>
 <div id="NDPrototype1462" class="NDPrototype"><div class="PSection PPlainSection"><span class="SHKeyword">inline</span> u8 NDP_GetStatus()</div></div>
 <div class="CBody"><p>Playing status (NDP_STATUS_xxx)</p><div class="CHeading">Returns</div><p>0: Stopped, 1: Playing</p></div>
</div>

<a name="NDP_IsPlaying"></a><a name="Topic1463"></a><div class="CTopic TFunction LC">
 <div class="CTitle">NDP_IsPlaying</div>
 <div id="NDPrototype1463" class="NDPrototype"><div class="PSection PPlainSection"><span class="SHKeyword">inline</span> <span class="SHKeyword">bool</span> NDP_IsPlaying()</div></div>
 <div class="CBody"><p>Whether or not music is currently playing</p><div class="CHeading">Returns</div><p>TRUE if music is playing, FALSE otherwise</p></div>
</div>

<a name="NDP_IsStopped"></a><a name="Topic1464"></a><div class="CTopic TFunction LC">
 <div class="CTitle">NDP_IsStopped</div>
 <div id="NDPrototype1464" class="NDPrototype"><div class="PSection PPlainSection"><span class="SHKeyword">inline</span> <span class="SHKeyword">bool</span> NDP_IsStopped()</div></div>
 <div class="CBody"><p>Whether or not music is currently stopped</p><div class="CHeading">Returns</div><p>TRUE if music is stopped, FALSE otherwise</p></div>
</div>

<a name="NDP_HasTrackEnded"></a><a name="Topic1465"></a><div class="CTopic TFunction LC">
 <div class="CTitle">NDP_HasTrackEnded</div>
 <div id="NDPrototype1465" class="NDPrototype"><div class="PSection PPlainSection"><span class="SHKeyword">inline</span> u8 NDP_HasTrackEnded()</div></div>
 <div class="CBody"><p>Whether or not each track has reached the end</p><div class="CHeading">Returns</div><p>Bit field of 0000321R</p></div>
</div>

<a name="NDP_GetLoopCount"></a><a name="Topic1466"></a><div class="CTopic TFunction LC">
 <div class="CTitle">NDP_GetLoopCount</div>
 <div id="NDPrototype1466" class="NDPrototype"><div class="PSection PPlainSection"><span class="SHKeyword">inline</span> u8 NDP_GetLoopCount()</div></div>
 <div class="CBody"><p>Number of times the song has looped</p><div class="CHeading">Returns</div><p>If the song does not have an infinite loop, check +0BH in the song data and return 255 when the song finishes playing</p></div>
</div>

<a name="NDP_SetToneColor"></a><a name="Topic1467"></a><div class="CTopic TFunction LC">
 <div class="CTitle">NDP_SetToneColor</div>
 <div id="NDPrototype1467" class="NDPrototype WideForm"><div class="PSection PParameterSection CStyle"><table><tr><td class="PBeforeParameters"><span class="SHKeyword">void</span> NDP_SetToneColor(</td><td class="PParametersParentCell"><table class="PParameters"><tr><td class="PModifierQualifier first"><span class="SHKeyword">const</span>&nbsp;</td><td class="PType"><span class="SHKeyword">void</span>*&nbsp;</td><td class="PName last">addr</td></tr></table></td><td class="PAfterParameters">)</td></tr></table></div></div>
 <div class="CBody"><p>Reflects tone color data to the driver (HL ← address of tone color definition data)</p></div>
</div>

<a name="NDP_GetVersion"></a><a name="Topic1468"></a><div class="CTopic TFunction LC">
 <div class="CTitle">NDP_GetVersion</div>
 <div id="NDPrototype1468" class="NDPrototype"><div class="PSection PPlainSection">u16 NDP_GetVersion()</div></div>
 <div class="CBody"><p>Driver version number → HL (L = decimal point, H = integer part. If the integer part is 0, it is treated as 0.9)</p></div>
</div>

<a name="NDP_Release"></a><a name="Topic1469"></a><div class="CTopic TFunction LC">
 <div class="CTitle">NDP_Release</div>
 <div id="NDPrototype1469" class="NDPrototype"><div class="PSection PPlainSection"><span class="SHKeyword">void</span> NDP_Release()</div></div>
 <div class="CBody"><p>Driver end (Disconnects the driver from the timer interrupt hook and stops sound generation)</p></div>
</div>

<a name="NDP_SetHookFlag"></a><a name="Topic1470"></a><div class="CTopic TFunction LC">
 <div class="CTitle">NDP_SetHookFlag</div>
 <div id="NDPrototype1470" class="NDPrototype WideForm"><div class="PSection PParameterSection CStyle"><table><tr><td class="PBeforeParameters"><span class="SHKeyword">void</span> NDP_SetHookFlag(</td><td class="PParametersParentCell"><table class="PParameters"><tr><td class="PType first">u8&nbsp;</td><td class="PName last">flag</td></tr></table></td><td class="PAfterParameters">)</td></tr></table></div></div>
 <div class="CBody"><p>Timer interrupt hook connection flag ← A</p></div>
</div>

<a name="NDP_Update"></a><a name="Topic1471"></a><div class="CTopic TFunction LC last">
 <div class="CTitle">NDP_Update</div>
 <div id="NDPrototype1471" class="NDPrototype"><div class="PSection PPlainSection"><span class="SHKeyword">void</span> NDP_Update()</div></div>
 <div class="CBody"><table class="CDefinitionList"><tr><td class="CDLEntry">Interrupt processing</td><td class="CDLDefinition"><p>main part (only the interrupt routine body is processed without calling the old hook)</p></td></tr></table></div>
</div>

</body></html>